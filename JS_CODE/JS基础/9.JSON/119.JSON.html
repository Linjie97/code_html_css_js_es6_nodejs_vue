<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <!-- 
      如果需要兼容IE7及以下的JSON操作，可以通过引入一个外部的js文件来处理
     -->
     <script src="../json2.js"></script>
    <script>
        /*
          JSON：JavaScript Object Notation JS对象表示法
            -JS中的对象只有JS认识，其他语言不认识，网页如何跟后端交流呢！
            -JSON就是一个特殊格式的字符串，可以被任意语言所识别，
              并且可以转换为任意语言的对象。
            -一种通用的数据格式，而非编程语言，用于不同编程语言中数据的交互。
            -JSON和JS对象的格式一样，不过JSON字符串中的属性名必须加双引号
               其他的和JS语法一致
            -红宝书中，JSON不用声明，末尾不用加分号
            -JSON分类：
                 1.对象{}
                 2.数组[]

            JSON中允许的值：
                1.字符串
                2.数值
                3.布尔值
                4.null
                5.对象
                6.数组
        */
        //创建一个JS对象
        var obj = {
            "name": "孙悟空",
            "age": 18,
            "gender": "男"
        }; //属性名双引号可加可不加
        //创建一个JSON
        json = '{"name":"孙悟空","age":18,"gender":"男"}'
        arr = '[1,2,3,"hello",true]'
        console.log(typeof obj);
        /*
          将JSON字符串转化为JS中的对象
            在JS中提供了一个工具类，叫JSON
             这个对象可以帮助我们将一个JSON转换为JS对象，
             也可以将JS对象转换为JSON
        */
        /*
          json --> js对象
           JSON.parse() 
              -可以将一个JSON字符串转换为js对象
              -它需要一个JSON字符串作为参数，会将该字符串转换为JS对象并返回
        */
        var o = JSON.parse(json);
        console.log(o); //{name: '孙悟空', age: 18, gender: '男'}
        var o2 = JSON.parse(arr);
        console.log(o2); // [1, 2, 3, 'hello', true]

        var obj3 = {
            name: "猪八戒",
            age: 28,
            gender: "男"
        };

        /*
          JS对象-->json
            JSON.stringify() 可以将一个JS对象转换为JSON字符串
              需要一个JS对象作为参数，会返回一个JSON字符串
        */
        var str = JSON.stringify(obj3);
        console.log(str); //{"name":"猪八戒","age":28,"gender":"男"}

        /*
           JSON这个工具类对象在IE7及以下浏览器不支持，外部引入json2.js文件
        */
    </script>
</head>

<body>

</body>

</html>